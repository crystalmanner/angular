<div *ngIf="isParamAvailable">
<div class="sub-header-box">
  <div class="wrap">
    <div class="line-item">
      <div class="left-item">
        <app-editable-title [icon]="'business'"
          [value]="alert.company.name"
          [light]="true"
          [readonly]="true"></app-editable-title>
      </div>
      <div class="right-item">
        <div class="el"
          *ngFor="let item of alert.users">
          <div class="small-user-box">
            <app-image class="avatar-wrap"
              [size]="36"
              [type]="'image'"
              [imageUrl]="item.avatar"
              [imageAlt]="item.name"
              routerLink="{{item.url}}"></app-image>
            <span>{{item.name}}</span>
            <em>{{item.position}}</em>
          </div>
        </div>
        <div class="el label-el">
          <app-label [backgroundStyle]="'#00CCB1'">New</app-label>
        </div>
        <div class="el button-el">
          <app-dd-menu [options]="alert.settings"
            [light]="true"
            (select)="selectSettings($event)"></app-dd-menu>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="content">
  <section class="main-content">
    <div class="data-line">
      <app-data-widget [data]="alertDataLine"></app-data-widget>
    </div>
    <div class="row top-level">
      <!-- Alert Info form -->
      <div class="col-6">
        <div class="form-title">
          <h3>Alert Info</h3>
        </div>
        <div class="row">
          <div class="col-s-5">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.alertInfo.idNumber.label}}"
                [(ngModel)]="alert.alertInfo.idNumber.value"
                [textMask]="{mask: idMask, guide: false}">
            </mat-form-field>
          </div>
          <div class="col-s-4">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.alertInfo.provider.label}}"
                [(ngModel)]="alert.alertInfo.provider.value">
            </mat-form-field>
          </div>
          <div class="col-s-3">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <mat-select placeholder="{{alert.alertInfo.card.label}}"
                [(ngModel)]="alert.alertInfo.card.value"
                [disabled]="readonly"
                (change)="cardTypeChange(alert.alertInfo.card.value)">
                <div class="options-wrap"
                  appNoScroller
                  [perfectScrollbar]>
                  <mat-option *ngFor="let item of cards"
                    [value]="item.value">
                    {{ item.viewValue }}
                  </mat-option>
                </div>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-s-12">
            <mat-form-field class="full-width"
              [ngClass]="'readonly'">
              <input matInput
                [readonly]="true"
                placeholder="{{alert.alertInfo.timestamp.label}}"
                [(ngModel)]="alert.alertInfo.timestamp.value">
            </mat-form-field>
          </div>
        </div>
      </div>
      <!-- Transaction Info form -->
      <div class="col-6">
        <div class="form-title">
          <h3>Transaction Info</h3>
        </div>
        <div class="row">
          <div class="col-s-5">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.transactionInfo.merchant.label}}"
                [(ngModel)]="alert.transactionInfo.merchant.value">
            </mat-form-field>
          </div>
          <div class="col-s-3">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.transactionInfo.cardBin.label}}"
                [(ngModel)]="alert.transactionInfo.cardBin.value"
                [textMask]="{mask: cardBinMask, guide: false}">
            </mat-form-field>
          </div>
          <div class="col-s-4">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.transactionInfo.cc.label}}"
                [(ngModel)]="alert.transactionInfo.cc.value"
                [textMask]="{mask: ccMask, guide: false}">
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-s-6">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.transactionInfo.transactionId.label}}"
                [(ngModel)]="alert.transactionInfo.transactionId.value">
            </mat-form-field>
          </div>
          <div class="col-s-6">
            <mat-form-field class="full-width"
              [ngClass]="readonly? 'readonly': ''">
              <input matInput
                [readonly]="readonly"
                placeholder="{{alert.transactionInfo.descriptor.label}}"
                [(ngModel)]="alert.transactionInfo.descriptor.value">
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
    <div class="space">&nbsp;</div>
    <button mat-raised-button
      color="primary"
      routerLink="/alerts/alert-resolve">Resolve</button>
  </section>
</div>
</div>